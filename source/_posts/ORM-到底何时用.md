---
title: ORM 到底何时用
tags:
  - 随笔
date: 2024-10-21 16:34:13
---

之前做过一次大作业用了 ORM （Object Relational Mapper）, 还有一次接活设计 sql 语句使用了 CET （Common Table Expressions） 规范编写， 从个人体验上来说， 我还是更喜欢直接写语句。

最近搜了一下两者的优缺点， 做一下辨析。


# ORM

优点
1. 原生防 sql 注入。
2. 灵活拼接查询键值，易扩展。
3. 面向对象思维， 减少代码耦合， 增加可读性。
4. 跨数据库兼容。

缺点
1. 复杂查询难以实现， 使用函数嵌套完全没有 sql 语句简洁， 有些库甚至没有提供完整的接口。
2. 产生额外的性能开销。

# 直接使用 SQL 语句

优点
1. 灵活性高
2. 性能强
3. 易使用数据库高级功能
  
缺点
1. 安全问题。
2. 与业务逻辑代码紧密耦合。